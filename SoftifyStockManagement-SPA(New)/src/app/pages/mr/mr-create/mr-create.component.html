

        <!-- <div class="form-row">

          <div class="col-xs-12 col-12 col-md-3 form-group">
            <label class="control-label">   Mr Date : </label>
            <input type="text" class="form-control form-control-sm" bsDatepicker formControlName="dtMr" [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }">
            <div *ngIf="mrEntryForm.get('dtMr').errors && mrEntryForm.get('dtMr').touched" class="invalid-status">MR Date  is required</div>
          </div>

          <div class="form-group col-md-3">
              <label class="control-label">  Supplier : </label>
              <select2 [data]="exampleData" class="form-control form-control-sm" ngDefaultcontrol  formControlName="SupplierId" style="background-color:aliceblue" (valueChanged)="changed($event)"></select2>
            <div *ngIf="mrEntryForm.get('SupplierId').errors && mrEntryForm.get('SupplierId').touched" class="invalid-status">Supplier Name is required</div>
          </div>

          <div class="form-group col-md-3">
              <label class="control-label ">   Loading Date : </label>
              <input type="text" class="form-control  form-control-sm"  formControlName="dtLoading" bsDatepicker  [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }">
              <div *ngIf="mrEntryForm.get('dtLoading').errors && mrEntryForm.get('dtLoading').touched" class="invalid-status">Loading Date is required</div>
            </div>
            <div class="ui-g-12 ui-md-3">
              <label class="control-label font-weight-bold">  Bin : </label>
            <p-dropdown [options]="prodService.binCombo" formControlName="BinId" [filter]="true"></p-dropdown>
            <div *ngIf="mrEntryForm.get('BinId').errors && mrEntryForm.get('BinId').touched" class="invalid-status">Bin is required</div>
          </div>
            <div class="form-group col-md-8">
                <label class="control-label ">   Remarks  : </label>
                <textarea  type="" class="form-control  form-control-sm"  formControlName="Remarks" rows="2" ></textarea>
              </div>
        </div>
        <button type="submit" class="btn btn-secondary" [disabled]="!mrEntryForm.valid">Submit</button> -->


<form [formGroup]="mrEntryForm" (ngSubmit)="CreateMr()">
  <p-panel header="Create MR">
      <div class="ui-g ui-fluid">
          <div class="ui-g-12 ui-lg-12">
              <div class="ui-g form-group">
                <div class="ui-g-12 ui-md-3 ">
                    <label class="control-label  font-weight-bold">   MR Date : </label>
                  <input pInputText bsDatepicker type="text"size="30" formControlName="dtMr" placeholder="" [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }"/>
                  <div *ngIf="mrEntryForm.get('dtMr').errors && mrEntryForm.get('dtMr').touched" class="invalid-status " >MR Date is required</div>
                </div>

                <div class="ui-g-12 ui-md-3">
                    <label class="control-label font-weight-bold">  Supplier : </label>
                    <p-dropdown [options]="prodService.brandCombo" formControlName="SupplierId" [filter]="true"></p-dropdown>
                    <div *ngIf="mrEntryForm.get('SupplierId').errors && mrEntryForm.get('SupplierId').touched" class="invalid-status">Supplier Name is required</div>
                </div>

                <div class="ui-g-12 ui-md-3 ">
                  <label class="control-label  font-weight-bold">   Loading Date : </label>
                <input class="form-control form-control-sm" pInputText bsDatepicker type="text"size="30" formControlName="dtLoading" placeholder="" [bsConfig]="{ dateInputFormat: 'DD-MMM-YYYY' }"/>
                <div *ngIf="mrEntryForm.get('dtLoading').errors && mrEntryForm.get('dtLoading').touched" class="invalid-status " >Loading Date is required</div>
              </div>

                <div class="ui-g-12 ui-md-3">
                  <label class="control-label font-weight-bold">  Bin : </label>
                <p-dropdown [options]="prodService.unitCombo" formControlName="BinId" [filter]="true"></p-dropdown>
                <div *ngIf="mrEntryForm.get('BinId').errors && mrEntryForm.get('BinId').touched" class="invalid-status">Bin is required</div>
              </div>

                <div class="ui-g-12 ui-md-12">
                    <label class="control-label font-weight-bold">   Remarks  : </label>
                    <textarea ng-model="myTextarea" class="form-control" formControlName="Remarks"></textarea>
                    <div *ngIf="mrEntryForm.get('Remarks').errors && mrEntryForm.get('Remarks').touched" class="invalid-status">Remarks is required</div>
                </div>
              </div>
              <div class="ui-g-12 ui-md-3">
                  <button pButton type="submit" label="Submit" icon="pi pi-save" iconPos="left" [disabled]="!mrEntryForm.valid"></button>
                </div>
            </div>
          </div>

</p-panel>

<div class="ui-g-12 ui-md-3">
    <button pButton type="button" class="btn-sm" label="Add" icon="pi pi-plus" iconPos="left" (click)="addItem()"></button>
</div>

<div formArrayName="items" class="table-responsive">
    <table class="table table-sm table-bordered">
        <thead class="table-secondary" style="padding: 0">
          <tr>
            <th scope="col">#</th>
            <th scope="col">First</th>
            <th scope="col">Last</th>
            <th scope="col">Handle</th>
          </tr>
        </thead>
            <tbody>
                <!-- <tr *ngFor="let item of mrEntryForm.get('items'); let i=index" [formGroupName]="i" scope="row"> -->
                    <tr *ngFor="let item of mrEntryForm.controls.items.controls; let i=index" [formGroupName]="i">
                  <td>
                        <select2 [data]="prodService.brandCombo" class="form-control form-control-sm" ngDefaultControl  formControlName="ProductId"></select2> 
                  </td>
                  <td>
                    <input formControlName="UnitId" class="form-control form-control-sm"></td>
                  <td>
                    <input formControlName="Price"  class="form-control form-control-sm"></td>
                    <td>
                        <input formControlName="Qty"  class="form-control form-control-sm"></td>
                </tr>

              </tbody>


      </table>
    </div>
</form>
